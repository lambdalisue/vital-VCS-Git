let s:V = vital#of('vital')
let s:P = s:V.import('System.Filepath')
let s:L = s:V.import('Data.List')
call s:V.unload() " make sure that the following modules are not cached version
let s:M = s:V.import('VCS.Git.Misc')

let s:ROOT = getcwd()

Describe VCS.Git.Misc
  Context .count_commits_ahead_of_remote([{path}, {options}])
    It should return number
      let path = s:ROOT
      let result = s:M.count_commits_ahead_of_remote()
      Assert IsNumber(result)
    End
  End

  Context .count_commits_behind_remote([{path}, {options}])
    It should return number
      let path = s:ROOT
      let result = s:M.count_commits_behind_remote()
      Assert IsNumber(result)
    End
  End

  Context .get_status([{path}, {options}])
    It should return a dictionary
      let result = s:M.get_parsed_status()
      Assert IsDict(result)
    End
  End

  Context .get_config([{path}, {options}])
    It should return a dictionary
      let result = s:M.get_parsed_config()
      Assert IsDict(result)
    End
  End
End
